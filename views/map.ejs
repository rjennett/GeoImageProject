<!-- This map.ejs is the intended replacement for map.jade
App fuctions with map.jade but not yet with this map.ejs -->

<% include partials/header %>

<div id="mapContainer" style="margin: 30px;">
    <div id="map" style="height: 50em"></div>
</div>

<script>
    // error returned, jsonData not defined
    var myData = JSON.stringify(jsonData);
        // Create variable to hold map element, give initial settings to map
        var map = L.map('map',{ center: [39.8283, -98.5795], zoom: 4});
        // Add OpenStreetMap tile layer to map element
        L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', { attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>' }).addTo(map);
        // Add JSON to map
        L.geoJson(myData,{
            onEachFeature: function (feature, layer) {
                layer.bindPopup(feature.properties.f2);
            }
        }).addTo(map);
</script>

<% include partials/footer %>